<div class="add-menu-form">
  <h3>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà</h3>
  <form (ngSubmit)="addMenu()" #menuForm="ngForm" novalidate>

    <div class="form-row">
      <div class="form-group half-width">
        <label for="name">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π <span class="required">*</span></label>
        <input id="name" type="text" name="name" [(ngModel)]="newMenu.name" required />
      </div>

      <div class="form-group half-width">
        <label for="image_url">‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
        <input id="image_url" type="text" name="image_url" [(ngModel)]="newMenu.image_url" />
      </div>
    </div>

    <div class="form-group">
      <label for="description">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
      <textarea id="description" name="description" [(ngModel)]="newMenu.description" rows="3"></textarea>
    </div>

    <div class="form-row">
      <div class="form-group half-width">
        <label for="price">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó) <span class="required">*</span></label>
        <input id="price" type="number" name="price" [(ngModel)]="newMenu.price" required min="0" />
      </div>

      <div class="form-group half-width">
        <label for="category">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
        <select id="category" name="category" [(ngModel)]="newMenu.category">
          <option value="" disabled selected>-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
        </select>
      </div>
    </div>

    <div class="form-group checkbox-group">
      <label>
        <input type="checkbox" name="available" [(ngModel)]="newMenu.available" />
        ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
      </label>
    </div>

    <button type="submit" [disabled]="menuForm.invalid">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏°‡∏ô‡∏π</button>
  </form>
</div>

<div class="menu-container">
    <h2>‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
    <div *ngIf="menus.length === 0">
        <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
    </div>
    <div class="menu-list">
        <div class="menu-item" *ngFor="let menu of menus">
            <img [src]="menu.image_url" alt="{{ menu.name }}" class="menu-image" />
        
            <div class="menu-details">
                <ng-container *ngIf="editingMenuId === menu.id; else viewMode">
                    <input type="text" [(ngModel)]="menu.name" />
                    <textarea [(ngModel)]="menu.description"></textarea>
                    <input type="number" [(ngModel)]="menu.price" />
                    <input type="text" [(ngModel)]="menu.image_url" />
                    <select [(ngModel)]="menu.category">
                        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
                    </select>
                    <label>
                        <input type="checkbox" [(ngModel)]="menu.available" />
                            ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
                    </label>
                    <div class="admin-buttons">
                        <button class="save-btn" (click)="saveEdit(menu)">‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                        <button class="cancel-btn" (click)="cancelEdit()">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    </div>
                </ng-container>
            
                <ng-template #viewMode>
                    <h3>{{ menu.name }}</h3>
                    <p>{{ menu.description }}</p>
                    <p class="price">{{ menu.price | currency:'THB':'symbol':'1.2-2' }}</p>
                
                    <div class="admin-buttons">
                        <button class="edit-btn" (click)="startEdit(menu)">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button class="delete-btn" (click)="deleteMenu(menu.id)">üóë ‡∏•‡∏ö</button>
                    </div>
                </ng-template>
            
            </div>
        </div>
    </div>
</div>